import{N as e,Y as t}from"./vendor.19c9fb29.js";var r={},s={},n={},i={exports:{}};var o={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16};var a="object"==typeof process&&process.env&&{}.NODE_DEBUG&&/\bsemver\b/i.test({}.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};!function(e,t){const{MAX_SAFE_COMPONENT_LENGTH:r}=o,s=a,n=(t=e.exports={}).re=[],i=t.src=[],l=t.t={};let h=0;const c=(e,t,r)=>{const o=h++;s(o,t),l[e]=o,i[o]=t,n[o]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${i[l.NUMERICIDENTIFIER]})\\.(${i[l.NUMERICIDENTIFIER]})\\.(${i[l.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${i[l.NUMERICIDENTIFIERLOOSE]})\\.(${i[l.NUMERICIDENTIFIERLOOSE]})\\.(${i[l.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${i[l.NUMERICIDENTIFIER]}|${i[l.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${i[l.NUMERICIDENTIFIERLOOSE]}|${i[l.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${i[l.PRERELEASEIDENTIFIER]}(?:\\.${i[l.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${i[l.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[l.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${i[l.BUILDIDENTIFIER]}(?:\\.${i[l.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${i[l.MAINVERSION]}${i[l.PRERELEASE]}?${i[l.BUILD]}?`),c("FULL",`^${i[l.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${i[l.MAINVERSIONLOOSE]}${i[l.PRERELEASELOOSE]}?${i[l.BUILD]}?`),c("LOOSE",`^${i[l.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${i[l.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${i[l.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${i[l.XRANGEIDENTIFIER]})(?:\\.(${i[l.XRANGEIDENTIFIER]})(?:\\.(${i[l.XRANGEIDENTIFIER]})(?:${i[l.PRERELEASE]})?${i[l.BUILD]}?)?)?`),c("XRANGEPLAINLOOSE",`[v=\\s]*(${i[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[l.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[l.XRANGEIDENTIFIERLOOSE]})(?:${i[l.PRERELEASELOOSE]})?${i[l.BUILD]}?)?)?`),c("XRANGE",`^${i[l.GTLT]}\\s*${i[l.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${i[l.GTLT]}\\s*${i[l.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),c("COERCERTL",i[l.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${i[l.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${i[l.LONETILDE]}${i[l.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${i[l.LONETILDE]}${i[l.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${i[l.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${i[l.LONECARET]}${i[l.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${i[l.LONECARET]}${i[l.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${i[l.GTLT]}\\s*(${i[l.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${i[l.GTLT]}\\s*(${i[l.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${i[l.GTLT]}\\s*(${i[l.LOOSEPLAIN]}|${i[l.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${i[l.XRANGEPLAIN]})\\s+-\\s+(${i[l.XRANGEPLAIN]})\\s*$`),c("HYPHENRANGELOOSE",`^\\s*(${i[l.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[l.XRANGEPLAINLOOSE]})\\s*$`),c("STAR","(<|>)?=?\\s*\\*"),c("GTE0","^\\s*>=\\s*0.0.0\\s*$"),c("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}(i,i.exports);const l=["includePrerelease","loose","rtl"];var h=e=>e?"object"!=typeof e?{loose:!0}:l.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{};const c=/^[0-9]+$/,u=(e,t)=>{const r=c.test(e),s=c.test(t);return r&&s&&(e=+e,t=+t),e===t?0:r&&!s?-1:s&&!r?1:e<t?-1:1};var p={compareIdentifiers:u,rcompareIdentifiers:(e,t)=>u(t,e)};const f=a,{MAX_LENGTH:E,MAX_SAFE_INTEGER:d}=o,{re:m,t:v}=i.exports,g=h,{compareIdentifiers:R}=p;class I{constructor(e,t){if(t=g(t),e instanceof I){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>E)throw new TypeError(`version is longer than ${E} characters`);f("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?m[v.LOOSE]:m[v.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>d||this.major<0)throw new TypeError("Invalid major version");if(this.minor>d||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>d||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<d)return t}return e})):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(f("SemVer.compare",this.version,this.options,e),!(e instanceof I)){if("string"==typeof e&&e===this.version)return 0;e=new I(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof I||(e=new I(e,this.options)),R(this.major,e.major)||R(this.minor,e.minor)||R(this.patch,e.patch)}comparePre(e){if(e instanceof I||(e=new I(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],s=e.prerelease[t];if(f("prerelease compare",t,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return R(r,s)}while(++t)}compareBuild(e){e instanceof I||(e=new I(e,this.options));let t=0;do{const r=this.build[t],s=e.build[t];if(f("prerelease compare",t,r,s),void 0===r&&void 0===s)return 0;if(void 0===s)return 1;if(void 0===r)return-1;if(r!==s)return R(r,s)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}var $=I;const{MAX_LENGTH:w}=o,{re:O,t:A}=i.exports,T=$,y=h;var N=(e,t)=>{if(t=y(t),e instanceof T)return e;if("string"!=typeof e)return null;if(e.length>w)return null;if(!(t.loose?O[A.LOOSE]:O[A.FULL]).test(e))return null;try{return new T(e,t)}catch(r){return null}};const S=N;var L=(e,t)=>{const r=S(e,t);return r?r.version:null};const b=N;var _=(e,t)=>{const r=b(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};const P=$;var M=(e,t,r,s)=>{"string"==typeof r&&(s=r,r=void 0);try{return new P(e,r).inc(t,s).version}catch(n){return null}};const C=$;var x=(e,t,r)=>new C(e,r).compare(new C(t,r));const D=x;var j=(e,t,r)=>0===D(e,t,r);const k=N,F=j;var G=(e,t)=>{if(F(e,t))return null;{const r=k(e),s=k(t),n=r.prerelease.length||s.prerelease.length,i=n?"pre":"",o=n?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==s[e])return i+e;return o}};const B=$;var H=(e,t)=>new B(e,t).major;const U=$;var X=(e,t)=>new U(e,t).minor;const V=$;var q=(e,t)=>new V(e,t).patch;const Y=N;var W=(e,t)=>{const r=Y(e,t);return r&&r.prerelease.length?r.prerelease:null};const K=x;var z=(e,t,r)=>K(t,e,r);const Z=x;var J=(e,t)=>Z(e,t,!0);const Q=$;var ee=(e,t,r)=>{const s=new Q(e,r),n=new Q(t,r);return s.compare(n)||s.compareBuild(n)};const te=ee;var re=(e,t)=>e.sort(((e,r)=>te(e,r,t)));const se=ee;var ne=(e,t)=>e.sort(((e,r)=>se(r,e,t)));const ie=x;var oe=(e,t,r)=>ie(e,t,r)>0;const ae=x;var le=(e,t,r)=>ae(e,t,r)<0;const he=x;var ce=(e,t,r)=>0!==he(e,t,r);const ue=x;var pe=(e,t,r)=>ue(e,t,r)>=0;const fe=x;var Ee=(e,t,r)=>fe(e,t,r)<=0;const de=j,me=ce,ve=oe,ge=pe,Re=le,Ie=Ee;var $e=(e,t,r,s)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return de(e,r,s);case"!=":return me(e,r,s);case">":return ve(e,r,s);case">=":return ge(e,r,s);case"<":return Re(e,r,s);case"<=":return Ie(e,r,s);default:throw new TypeError(`Invalid operator: ${t}`)}};const we=$,Oe=N,{re:Ae,t:Te}=i.exports;var ye=(e,t)=>{if(e instanceof we)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=Ae[Te.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),Ae[Te.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;Ae[Te.COERCERTL].lastIndex=-1}else r=e.match(Ae[Te.COERCE]);return null===r?null:Oe(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)},Ne=Se;function Se(e){var t=this;if(t instanceof Se||(t=new Se),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var r=0,s=arguments.length;r<s;r++)t.push(arguments[r]);return t}function Le(e,t,r){var s=t===e.head?new Pe(r,null,t,e):new Pe(r,t,t.next,e);return null===s.next&&(e.tail=s),null===s.prev&&(e.head=s),e.length++,s}function be(e,t){e.tail=new Pe(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function _e(e,t){e.head=new Pe(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function Pe(e,t,r,s){if(!(this instanceof Pe))return new Pe(e,t,r,s);this.list=s,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,r?(r.prev=this,this.next=r):this.next=null}Se.Node=Pe,Se.create=Se,Se.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,r=e.prev;return t&&(t.prev=r),r&&(r.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=r),e.list.length--,e.next=null,e.prev=null,e.list=null,t},Se.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},Se.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},Se.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)be(this,arguments[e]);return this.length},Se.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)_e(this,arguments[e]);return this.length},Se.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},Se.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},Se.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,s=0;null!==r;s++)e.call(t,r.value,s,this),r=r.next},Se.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,s=this.length-1;null!==r;s--)e.call(t,r.value,s,this),r=r.prev},Se.prototype.get=function(e){for(var t=0,r=this.head;null!==r&&t<e;t++)r=r.next;if(t===e&&null!==r)return r.value},Se.prototype.getReverse=function(e){for(var t=0,r=this.tail;null!==r&&t<e;t++)r=r.prev;if(t===e&&null!==r)return r.value},Se.prototype.map=function(e,t){t=t||this;for(var r=new Se,s=this.head;null!==s;)r.push(e.call(t,s.value,this)),s=s.next;return r},Se.prototype.mapReverse=function(e,t){t=t||this;for(var r=new Se,s=this.tail;null!==s;)r.push(e.call(t,s.value,this)),s=s.prev;return r},Se.prototype.reduce=function(e,t){var r,s=this.head;if(arguments.length>1)r=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");s=this.head.next,r=this.head.value}for(var n=0;null!==s;n++)r=e(r,s.value,n),s=s.next;return r},Se.prototype.reduceReverse=function(e,t){var r,s=this.tail;if(arguments.length>1)r=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");s=this.tail.prev,r=this.tail.value}for(var n=this.length-1;null!==s;n--)r=e(r,s.value,n),s=s.prev;return r},Se.prototype.toArray=function(){for(var e=new Array(this.length),t=0,r=this.head;null!==r;t++)e[t]=r.value,r=r.next;return e},Se.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,r=this.tail;null!==r;t++)e[t]=r.value,r=r.prev;return e},Se.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Se;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=0,n=this.head;null!==n&&s<e;s++)n=n.next;for(;null!==n&&s<t;s++,n=n.next)r.push(n.value);return r},Se.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var r=new Se;if(t<e||t<0)return r;e<0&&(e=0),t>this.length&&(t=this.length);for(var s=this.length,n=this.tail;null!==n&&s>t;s--)n=n.prev;for(;null!==n&&s>e;s--,n=n.prev)r.push(n.value);return r},Se.prototype.splice=function(e,t,...r){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var s=0,n=this.head;null!==n&&s<e;s++)n=n.next;var i=[];for(s=0;n&&s<t;s++)i.push(n.value),n=this.removeNode(n);null===n&&(n=this.tail),n!==this.head&&n!==this.tail&&(n=n.prev);for(s=0;s<r.length;s++)n=Le(this,n,r[s]);return i},Se.prototype.reverse=function(){for(var e=this.head,t=this.tail,r=e;null!==r;r=r.prev){var s=r.prev;r.prev=r.next,r.next=s}return this.head=t,this.tail=e,this};try{Se.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}catch(rs){}const Me=Ne,Ce=Symbol("max"),xe=Symbol("length"),De=Symbol("lengthCalculator"),je=Symbol("allowStale"),ke=Symbol("maxAge"),Fe=Symbol("dispose"),Ge=Symbol("noDisposeOnSet"),Be=Symbol("lruList"),He=Symbol("cache"),Ue=Symbol("updateAgeOnGet"),Xe=()=>1;const Ve=(e,t,r)=>{const s=e[He].get(t);if(s){const t=s.value;if(qe(e,t)){if(We(e,s),!e[je])return}else r&&(e[Ue]&&(s.value.now=Date.now()),e[Be].unshiftNode(s));return t.value}},qe=(e,t)=>{if(!t||!t.maxAge&&!e[ke])return!1;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[ke]&&r>e[ke]},Ye=e=>{if(e[xe]>e[Ce])for(let t=e[Be].tail;e[xe]>e[Ce]&&null!==t;){const r=t.prev;We(e,t),t=r}},We=(e,t)=>{if(t){const r=t.value;e[Fe]&&e[Fe](r.key,r.value),e[xe]-=r.length,e[He].delete(r.key),e[Be].removeNode(t)}};class Ke{constructor(e,t,r,s,n){this.key=e,this.value=t,this.length=r,this.now=s,this.maxAge=n||0}}const ze=(e,t,r,s)=>{let n=r.value;qe(e,n)&&(We(e,r),e[je]||(n=void 0)),n&&t.call(s,n.value,n.key,e)};var Ze=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[Ce]=e.max||1/0;const t=e.length||Xe;if(this[De]="function"!=typeof t?Xe:t,this[je]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[ke]=e.maxAge||0,this[Fe]=e.dispose,this[Ge]=e.noDisposeOnSet||!1,this[Ue]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[Ce]=e||1/0,Ye(this)}get max(){return this[Ce]}set allowStale(e){this[je]=!!e}get allowStale(){return this[je]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[ke]=e,Ye(this)}get maxAge(){return this[ke]}set lengthCalculator(e){"function"!=typeof e&&(e=Xe),e!==this[De]&&(this[De]=e,this[xe]=0,this[Be].forEach((e=>{e.length=this[De](e.value,e.key),this[xe]+=e.length}))),Ye(this)}get lengthCalculator(){return this[De]}get length(){return this[xe]}get itemCount(){return this[Be].length}rforEach(e,t){t=t||this;for(let r=this[Be].tail;null!==r;){const s=r.prev;ze(this,e,r,t),r=s}}forEach(e,t){t=t||this;for(let r=this[Be].head;null!==r;){const s=r.next;ze(this,e,r,t),r=s}}keys(){return this[Be].toArray().map((e=>e.key))}values(){return this[Be].toArray().map((e=>e.value))}reset(){this[Fe]&&this[Be]&&this[Be].length&&this[Be].forEach((e=>this[Fe](e.key,e.value))),this[He]=new Map,this[Be]=new Me,this[xe]=0}dump(){return this[Be].map((e=>!qe(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[Be]}set(e,t,r){if((r=r||this[ke])&&"number"!=typeof r)throw new TypeError("maxAge must be a number");const s=r?Date.now():0,n=this[De](t,e);if(this[He].has(e)){if(n>this[Ce])return We(this,this[He].get(e)),!1;const i=this[He].get(e).value;return this[Fe]&&(this[Ge]||this[Fe](e,i.value)),i.now=s,i.maxAge=r,i.value=t,this[xe]+=n-i.length,i.length=n,this.get(e),Ye(this),!0}const i=new Ke(e,t,n,s,r);return i.length>this[Ce]?(this[Fe]&&this[Fe](e,t),!1):(this[xe]+=i.length,this[Be].unshift(i),this[He].set(e,this[Be].head),Ye(this),!0)}has(e){if(!this[He].has(e))return!1;const t=this[He].get(e).value;return!qe(this,t)}get(e){return Ve(this,e,!0)}peek(e){return Ve(this,e,!1)}pop(){const e=this[Be].tail;return e?(We(this,e),e.value):null}del(e){We(this,this[He].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const s=e[r],n=s.e||0;if(0===n)this.set(s.k,s.v);else{const e=n-t;e>0&&this.set(s.k,s.v,e)}}}prune(){this[He].forEach(((e,t)=>Ve(this,t,!1)))}};class Je{constructor(e,t){if(t=tt(t),e instanceof Je)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new Je(e.raw,t);if(e instanceof rt)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!ct(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const t of this.set)if(1===t.length&&ut(t[0])){this.set=[t];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,r=et.get(t);if(r)return r;const s=this.options.loose,n=s?it[ot.HYPHENRANGELOOSE]:it[ot.HYPHENRANGE];e=e.replace(n,Ot(this.options.includePrerelease)),st("hyphen replace",e),e=e.replace(it[ot.COMPARATORTRIM],at),st("comparator trim",e,it[ot.COMPARATORTRIM]),e=(e=(e=e.replace(it[ot.TILDETRIM],lt)).replace(it[ot.CARETTRIM],ht)).split(/\s+/).join(" ");const i=s?it[ot.COMPARATORLOOSE]:it[ot.COMPARATOR],o=e.split(" ").map((e=>ft(e,this.options))).join(" ").split(/\s+/).map((e=>wt(e,this.options))).filter(this.options.loose?e=>!!e.match(i):()=>!0).map((e=>new rt(e,this.options)));o.length;const a=new Map;for(const h of o){if(ct(h))return[h];a.set(h.value,h)}a.size>1&&a.has("")&&a.delete("");const l=[...a.values()];return et.set(t,l),l}intersects(e,t){if(!(e instanceof Je))throw new TypeError("a Range is required");return this.set.some((r=>pt(r,t)&&e.set.some((e=>pt(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new nt(e,this.options)}catch(rs){return!1}for(let t=0;t<this.set.length;t++)if(At(this.set[t],e,this.options))return!0;return!1}}var Qe=Je;const et=new Ze({max:1e3}),tt=h,rt=Nt,st=a,nt=$,{re:it,t:ot,comparatorTrimReplace:at,tildeTrimReplace:lt,caretTrimReplace:ht}=i.exports,ct=e=>"<0.0.0-0"===e.value,ut=e=>""===e.value,pt=(e,t)=>{let r=!0;const s=e.slice();let n=s.pop();for(;r&&s.length;)r=s.every((e=>n.intersects(e,t))),n=s.pop();return r},ft=(e,t)=>(st("comp",e,t),e=vt(e,t),st("caret",e),e=dt(e,t),st("tildes",e),e=Rt(e,t),st("xrange",e),e=$t(e,t),st("stars",e),e),Et=e=>!e||"x"===e.toLowerCase()||"*"===e,dt=(e,t)=>e.trim().split(/\s+/).map((e=>mt(e,t))).join(" "),mt=(e,t)=>{const r=t.loose?it[ot.TILDELOOSE]:it[ot.TILDE];return e.replace(r,((t,r,s,n,i)=>{let o;return st("tilde",e,t,r,s,n,i),Et(r)?o="":Et(s)?o=`>=${r}.0.0 <${+r+1}.0.0-0`:Et(n)?o=`>=${r}.${s}.0 <${r}.${+s+1}.0-0`:i?(st("replaceTilde pr",i),o=`>=${r}.${s}.${n}-${i} <${r}.${+s+1}.0-0`):o=`>=${r}.${s}.${n} <${r}.${+s+1}.0-0`,st("tilde return",o),o}))},vt=(e,t)=>e.trim().split(/\s+/).map((e=>gt(e,t))).join(" "),gt=(e,t)=>{st("caret",e,t);const r=t.loose?it[ot.CARETLOOSE]:it[ot.CARET],s=t.includePrerelease?"-0":"";return e.replace(r,((t,r,n,i,o)=>{let a;return st("caret",e,t,r,n,i,o),Et(r)?a="":Et(n)?a=`>=${r}.0.0${s} <${+r+1}.0.0-0`:Et(i)?a="0"===r?`>=${r}.${n}.0${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.0${s} <${+r+1}.0.0-0`:o?(st("replaceCaret pr",o),a="0"===r?"0"===n?`>=${r}.${n}.${i}-${o} <${r}.${n}.${+i+1}-0`:`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${i}-${o} <${+r+1}.0.0-0`):(st("no pr"),a="0"===r?"0"===n?`>=${r}.${n}.${i}${s} <${r}.${n}.${+i+1}-0`:`>=${r}.${n}.${i}${s} <${r}.${+n+1}.0-0`:`>=${r}.${n}.${i} <${+r+1}.0.0-0`),st("caret return",a),a}))},Rt=(e,t)=>(st("replaceXRanges",e,t),e.split(/\s+/).map((e=>It(e,t))).join(" ")),It=(e,t)=>{e=e.trim();const r=t.loose?it[ot.XRANGELOOSE]:it[ot.XRANGE];return e.replace(r,((r,s,n,i,o,a)=>{st("xRange",e,r,s,n,i,o,a);const l=Et(n),h=l||Et(i),c=h||Et(o),u=c;return"="===s&&u&&(s=""),a=t.includePrerelease?"-0":"",l?r=">"===s||"<"===s?"<0.0.0-0":"*":s&&u?(h&&(i=0),o=0,">"===s?(s=">=",h?(n=+n+1,i=0,o=0):(i=+i+1,o=0)):"<="===s&&(s="<",h?n=+n+1:i=+i+1),"<"===s&&(a="-0"),r=`${s+n}.${i}.${o}${a}`):h?r=`>=${n}.0.0${a} <${+n+1}.0.0-0`:c&&(r=`>=${n}.${i}.0${a} <${n}.${+i+1}.0-0`),st("xRange return",r),r}))},$t=(e,t)=>(st("replaceStars",e,t),e.trim().replace(it[ot.STAR],"")),wt=(e,t)=>(st("replaceGTE0",e,t),e.trim().replace(it[t.includePrerelease?ot.GTE0PRE:ot.GTE0],"")),Ot=e=>(t,r,s,n,i,o,a,l,h,c,u,p,f)=>`${r=Et(s)?"":Et(n)?`>=${s}.0.0${e?"-0":""}`:Et(i)?`>=${s}.${n}.0${e?"-0":""}`:o?`>=${r}`:`>=${r}${e?"-0":""}`} ${l=Et(h)?"":Et(c)?`<${+h+1}.0.0-0`:Et(u)?`<${h}.${+c+1}.0-0`:p?`<=${h}.${c}.${u}-${p}`:e?`<${h}.${c}.${+u+1}-0`:`<=${l}`}`.trim(),At=(e,t,r)=>{for(let s=0;s<e.length;s++)if(!e[s].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(st(e[r].semver),e[r].semver!==rt.ANY&&e[r].semver.prerelease.length>0){const s=e[r].semver;if(s.major===t.major&&s.minor===t.minor&&s.patch===t.patch)return!0}return!1}return!0},Tt=Symbol("SemVer ANY");class yt{static get ANY(){return Tt}constructor(e,t){if(t=St(t),e instanceof yt){if(e.loose===!!t.loose)return e;e=e.value}Pt("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===Tt?this.value="":this.value=this.operator+this.semver.version,Pt("comp",this)}parse(e){const t=this.options.loose?Lt[bt.COMPARATORLOOSE]:Lt[bt.COMPARATOR],r=e.match(t);if(!r)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==r[1]?r[1]:"","="===this.operator&&(this.operator=""),r[2]?this.semver=new Mt(r[2],this.options.loose):this.semver=Tt}toString(){return this.value}test(e){if(Pt("Comparator.test",e,this.options.loose),this.semver===Tt||e===Tt)return!0;if("string"==typeof e)try{e=new Mt(e,this.options)}catch(rs){return!1}return _t(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof yt))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new Ct(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new Ct(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),s=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),n=this.semver.version===e.semver.version,i=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),o=_t(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),a=_t(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||s||n&&i||o||a}}var Nt=yt;const St=h,{re:Lt,t:bt}=i.exports,_t=$e,Pt=a,Mt=$,Ct=Qe,xt=Qe;var Dt=(e,t,r)=>{try{t=new xt(t,r)}catch(rs){return!1}return t.test(e)};const jt=Qe;var kt=(e,t)=>new jt(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));const Ft=$,Gt=Qe;var Bt=(e,t,r)=>{let s=null,n=null,i=null;try{i=new Gt(t,r)}catch(rs){return null}return e.forEach((e=>{i.test(e)&&(s&&-1!==n.compare(e)||(s=e,n=new Ft(s,r)))})),s};const Ht=$,Ut=Qe;var Xt=(e,t,r)=>{let s=null,n=null,i=null;try{i=new Ut(t,r)}catch(rs){return null}return e.forEach((e=>{i.test(e)&&(s&&1!==n.compare(e)||(s=e,n=new Ht(s,r)))})),s};const Vt=$,qt=Qe,Yt=oe;var Wt=(e,t)=>{e=new qt(e,t);let r=new Vt("0.0.0");if(e.test(r))return r;if(r=new Vt("0.0.0-0"),e.test(r))return r;r=null;for(let s=0;s<e.set.length;++s){const t=e.set[s];let n=null;t.forEach((e=>{const t=new Vt(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!Yt(t,n)||(n=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!n||r&&!Yt(r,n)||(r=n)}return r&&e.test(r)?r:null};const Kt=Qe;var zt=(e,t)=>{try{return new Kt(e,t).range||"*"}catch(rs){return null}};const Zt=$,Jt=Nt,{ANY:Qt}=Jt,er=Qe,tr=Dt,rr=oe,sr=le,nr=Ee,ir=pe;var or=(e,t,r,s)=>{let n,i,o,a,l;switch(e=new Zt(e,s),t=new er(t,s),r){case">":n=rr,i=nr,o=sr,a=">",l=">=";break;case"<":n=sr,i=ir,o=rr,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(tr(e,t,s))return!1;for(let h=0;h<t.set.length;++h){const r=t.set[h];let c=null,u=null;if(r.forEach((e=>{e.semver===Qt&&(e=new Jt(">=0.0.0")),c=c||e,u=u||e,n(e.semver,c.semver,s)?c=e:o(e.semver,u.semver,s)&&(u=e)})),c.operator===a||c.operator===l)return!1;if((!u.operator||u.operator===a)&&i(e,u.semver))return!1;if(u.operator===l&&o(e,u.semver))return!1}return!0};const ar=or;var lr=(e,t,r)=>ar(e,t,">",r);const hr=or;var cr=(e,t,r)=>hr(e,t,"<",r);const ur=Qe;var pr=(e,t,r)=>(e=new ur(e,r),t=new ur(t,r),e.intersects(t));const fr=Dt,Er=x;const dr=Qe,mr=Nt,{ANY:vr}=mr,gr=Dt,Rr=x,Ir=(e,t,r)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===vr){if(1===t.length&&t[0].semver===vr)return!0;e=r.includePrerelease?[new mr(">=0.0.0-0")]:[new mr(">=0.0.0")]}if(1===t.length&&t[0].semver===vr){if(r.includePrerelease)return!0;t=[new mr(">=0.0.0")]}const s=new Set;let n,i,o,a,l,h,c;for(const f of e)">"===f.operator||">="===f.operator?n=$r(n,f,r):"<"===f.operator||"<="===f.operator?i=wr(i,f,r):s.add(f.semver);if(s.size>1)return null;if(n&&i){if(o=Rr(n.semver,i.semver,r),o>0)return null;if(0===o&&(">="!==n.operator||"<="!==i.operator))return null}for(const f of s){if(n&&!gr(f,String(n),r))return null;if(i&&!gr(f,String(i),r))return null;for(const e of t)if(!gr(f,String(e),r))return!1;return!0}let u=!(!i||r.includePrerelease||!i.semver.prerelease.length)&&i.semver,p=!(!n||r.includePrerelease||!n.semver.prerelease.length)&&n.semver;u&&1===u.prerelease.length&&"<"===i.operator&&0===u.prerelease[0]&&(u=!1);for(const f of t){if(c=c||">"===f.operator||">="===f.operator,h=h||"<"===f.operator||"<="===f.operator,n)if(p&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===p.major&&f.semver.minor===p.minor&&f.semver.patch===p.patch&&(p=!1),">"===f.operator||">="===f.operator){if(a=$r(n,f,r),a===f&&a!==n)return!1}else if(">="===n.operator&&!gr(n.semver,String(f),r))return!1;if(i)if(u&&f.semver.prerelease&&f.semver.prerelease.length&&f.semver.major===u.major&&f.semver.minor===u.minor&&f.semver.patch===u.patch&&(u=!1),"<"===f.operator||"<="===f.operator){if(l=wr(i,f,r),l===f&&l!==i)return!1}else if("<="===i.operator&&!gr(i.semver,String(f),r))return!1;if(!f.operator&&(i||n)&&0!==o)return!1}return!(n&&h&&!i&&0!==o)&&(!(i&&c&&!n&&0!==o)&&(!p&&!u))},$r=(e,t,r)=>{if(!e)return t;const s=Rr(e.semver,t.semver,r);return s>0?e:s<0||">"===t.operator&&">="===e.operator?t:e},wr=(e,t,r)=>{if(!e)return t;const s=Rr(e.semver,t.semver,r);return s<0?e:s>0||"<"===t.operator&&"<="===e.operator?t:e};var Or=(e,t,r={})=>{if(e===t)return!0;e=new dr(e,r),t=new dr(t,r);let s=!1;e:for(const n of e.set){for(const e of t.set){const t=Ir(n,e,r);if(s=s||null!==t,t)continue e}if(s)return!1}return!0};const Ar=i.exports;var Tr={re:Ar.re,src:Ar.src,tokens:Ar.t,SEMVER_SPEC_VERSION:o.SEMVER_SPEC_VERSION,SemVer:$,compareIdentifiers:p.compareIdentifiers,rcompareIdentifiers:p.rcompareIdentifiers,parse:N,valid:L,clean:_,inc:M,diff:G,major:H,minor:X,patch:q,prerelease:W,compare:x,rcompare:z,compareLoose:J,compareBuild:ee,sort:re,rsort:ne,gt:oe,lt:le,eq:j,neq:ce,gte:pe,lte:Ee,cmp:$e,coerce:ye,Comparator:Nt,Range:Qe,satisfies:Dt,toComparators:kt,maxSatisfying:Bt,minSatisfying:Xt,minVersion:Wt,validRange:zt,outside:or,gtr:lr,ltr:cr,intersects:pr,simplifyRange:(e,t,r)=>{const s=[];let n=null,i=null;const o=e.sort(((e,t)=>Er(e,t,r)));for(const c of o){fr(c,t,r)?(i=c,n||(n=c)):(i&&s.push([n,i]),i=null,n=null)}n&&s.push([n,null]);const a=[];for(const[c,u]of s)c===u?a.push(c):u||c!==o[0]?u?c===o[0]?a.push(`<=${u}`):a.push(`${c} - ${u}`):a.push(`>=${c}`):a.push("*");const l=a.join(" || "),h="string"==typeof t.raw?t.raw:String(t);return l.length<h.length?l:t},subset:Or},yr={},Nr={};Object.defineProperty(Nr,"__esModule",{value:!0}),Nr.generateRequestId=void 0;const Sr=e=>e.toString(16).padStart(2,"0");Nr.generateRequestId=()=>"undefined"!=typeof window?(e=>{const t=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(t),Array.from(t,Sr).join("")})(10):(new Date).getTime().toString(36);var Lr={};var br={name:"@gnosis.pm/safe-apps-sdk",version:"2.4.0",description:"SDK developed to integrate third-party apps with Safe-Multisig app.",main:"dist/src/index.js",typings:"dist/src/index.d.ts",_files:["dist/**/*","README.md"],keywords:["Gnosis","sdk","apps"],scripts:{test:"jest","format-dist":"sed -i '' 's/\"files\":/\"_files\":/' dist/package.json",build:"yarn rimraf dist && tsc && yarn format-dist",format:'prettier --write "src/**/*.ts"',lint:"tslint -p tsconfig.json",prepublishOnly:"yarn build"},author:"Gnosis (https://gnosis.io)",license:"MIT",dependencies:{semver:"^7.3.2"},devDependencies:{"@types/jest":"^26.0.23","@types/node":"^15.0.1","@types/semver":"^7.3.5",husky:"^6.0.0","lint-staged":"^11.0.0",prettier:"^2.2.1",rimraf:"^3.0.2"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"src/**/!(*test).ts":["yarn lint","prettier --write"]},repository:{type:"git",url:"git+https://github.com/gnosis/safe-apps-sdk.git"},bugs:{url:"https://github.com/gnosis/safe-apps-sdk/issues"},homepage:"https://github.com/gnosis/safe-apps-sdk#readme"},_r=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Lr,"__esModule",{value:!0}),Lr.getSDKVersion=void 0;const Pr=_r(br);Lr.getSDKVersion=()=>Pr.default.version.slice(0,5),Object.defineProperty(yr,"__esModule",{value:!0}),yr.MessageFormatter=void 0;const Mr=Nr,Cr=Lr;class xr{}yr.MessageFormatter=xr,xr.makeRequest=(e,t)=>({id:Mr.generateRequestId(),method:e,params:t,env:{sdkVersion:Cr.getSDKVersion()}}),xr.makeResponse=(e,t,r)=>({id:e,success:!0,version:r,data:t}),xr.makeErrorResponse=(e,t,r)=>({id:e,success:!1,error:t,version:r});var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0}),Dr.METHODS=void 0,Dr.METHODS={getEnvInfo:"getEnvInfo",sendTransactions:"sendTransactions",rpcCall:"rpcCall",getSafeInfo:"getSafeInfo"},function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),s=e&&e.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},n=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(Tr),o=yr;t.default=class{constructor(e=null,t=!1){this.allowedOrigins=null,this.callbacks=new Map,this.debugMode=!1,this.isValidMessage=({origin:e,data:t,source:r})=>{const s=!t,n=r===window.parent,o=void 0!==t.version&&i.default.gte(t.version,"1.0.0");let a=!0;return Array.isArray(this.allowedOrigins)&&(a=void 0!==this.allowedOrigins.find((t=>t.test(e)))),!s&&n&&o&&a},this.logIncomingMessage=e=>{console.info(`Safe Apps SDK v1: A message was received from origin ${e.origin}. `,e.data)},this.onParentMessage=e=>{this.isValidMessage(e)&&(this.debugMode&&this.logIncomingMessage(e),this.handleIncomingMessage(e.data))},this.handleIncomingMessage=e=>{const{id:t}=e,r=this.callbacks.get(t);r&&(r(e),this.callbacks.delete(t))},this.send=(e,t)=>{const r=o.MessageFormatter.makeRequest(e,t);if("undefined"==typeof window)throw new Error("Window doesn't exist");return window.parent.postMessage(r,"*"),new Promise((e=>{this.callbacks.set(r.id,(t=>{e(t)}))}))},this.allowedOrigins=e,this.debugMode=t,window.addEventListener("message",this.onParentMessage)}},s(Dr,t)}(n);var jr={};Object.defineProperty(jr,"__esModule",{value:!0}),jr.TXs=void 0;const kr=Dr;jr.TXs=class{constructor(e){this.txServiceUrl=null,this.communicator=e}async getBySafeTxHash(e){if(!this.txServiceUrl)throw new Error("ENV information hasn't been synced yet or there was an error during the process");const t=new AbortController,r={method:"GET",signal:t.signal};setTimeout((()=>t.abort()),1e4);try{const t=await fetch(`${this.txServiceUrl}/transactions/${e}`,r);if(200!==t.status)throw new Error("Failed to get the transaction. Either safeTxHash is incorrect or transaction hasn't been indexed by the service yet");return await t.json()}catch(s){throw s}}async send({txs:e,params:t}){if(!e||!e.length)throw new Error("No transactions were passed");const r={txs:e,params:t},s=await this.communicator.send(kr.METHODS.sendTransactions,r);if(!s.success)throw new Error(s.error);return s.data}setTxServiceUrl(e){this.txServiceUrl=e}};var Fr={},Gr={};Object.defineProperty(Gr,"__esModule",{value:!0}),Gr.RPC_CALLS=void 0,Gr.RPC_CALLS={eth_call:"eth_call",eth_getLogs:"eth_getLogs",eth_getBalance:"eth_getBalance",eth_getCode:"eth_getCode",eth_getBlockByHash:"eth_getBlockByHash",eth_getBlockByNumber:"eth_getBlockByNumber",eth_getStorageAt:"eth_getStorageAt",eth_getTransactionByHash:"eth_getTransactionByHash",eth_getTransactionReceipt:"eth_getTransactionReceipt"},Object.defineProperty(Fr,"__esModule",{value:!0}),Fr.Eth=void 0;const Br=Gr,Hr=Dr,Ur={defaultBlockParam:(e="latest")=>e,returnFullTxObjectParam:(e=!1)=>e,blockNumberToHex:e=>Number.isInteger(e)?`0x${e.toString(16)}`:e};Fr.Eth=class{constructor(e){this.communicator=e,this.call=this.buildRequest({call:Br.RPC_CALLS.eth_call,formatters:[null,Ur.defaultBlockParam]}),this.getBalance=this.buildRequest({call:Br.RPC_CALLS.eth_getBalance,formatters:[null,Ur.defaultBlockParam]}),this.getCode=this.buildRequest({call:Br.RPC_CALLS.eth_getCode,formatters:[null,Ur.defaultBlockParam]}),this.getStorageAt=this.buildRequest({call:Br.RPC_CALLS.eth_getStorageAt,formatters:[null,Ur.blockNumberToHex,Ur.defaultBlockParam]}),this.getPastLogs=this.buildRequest({call:Br.RPC_CALLS.eth_getLogs}),this.getBlockByHash=this.buildRequest({call:Br.RPC_CALLS.eth_getBlockByHash,formatters:[null,Ur.returnFullTxObjectParam]}),this.getBlockByNumber=this.buildRequest({call:Br.RPC_CALLS.eth_getBlockByNumber,formatters:[Ur.blockNumberToHex,Ur.returnFullTxObjectParam]}),this.getTransactionByHash=this.buildRequest({call:Br.RPC_CALLS.eth_getTransactionByHash}),this.getTransactionReceipt=this.buildRequest({call:Br.RPC_CALLS.eth_getTransactionReceipt})}buildRequest({call:e,formatters:t}){return async r=>{t&&Array.isArray(r)&&t.forEach(((e,t)=>{e&&(r[t]=e(r[t]))}));const s={call:e,params:r},n=await this.communicator.send(Hr.METHODS.rpcCall,s);if(!n.success)throw new Error(n.error);return n.data}}};var Xr=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(s,"__esModule",{value:!0});const Vr=n,qr=Xr(n),Yr=jr,Wr=Fr;s.default=class{constructor(e={}){if("undefined"==typeof window)throw new Error("Error initializing the sdk: window is undefined");const{whitelistedDomains:t=null,debug:r=!1}=e;this.communicator=new qr.default(t,r),this.eth=new Wr.Eth(this.communicator),this.txs=new Yr.TXs(this.communicator),this.bootstrap()}async bootstrap(){const{txServiceUrl:e}=await this.getEnvInfo();this.txs.setTxServiceUrl(e)}async getEnvInfo(){const e=await this.communicator.send(Vr.METHODS.getEnvInfo,void 0);if(!e.success)throw new Error(e.error);return e.data}async getSafeInfo(){const e=await this.communicator.send(Vr.METHODS.getSafeInfo,void 0);if(!e.success)throw new Error(e.error);return e.data}};var Kr,zr,Zr,Jr,Qr={};Kr=Qr,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.SettingsChangeMethods=Kr.TransferMethods=Kr.Operation=void 0,(zr=Kr.Operation||(Kr.Operation={}))[zr.CALL=0]="CALL",zr[zr.DELEGATE_CALL=1]="DELEGATE_CALL",zr[zr.CREATE=2]="CREATE",(Zr=Kr.TransferMethods||(Kr.TransferMethods={})).TRANSFER="transfer",Zr.TRANSFER_FROM="transferFrom",Zr.SAFE_TRANSFER_FROM="safeTransferFrom",(Jr=Kr.SettingsChangeMethods||(Kr.SettingsChangeMethods={})).SETUP="setup",Jr.SET_FALLBACK_HANDLER="setFallbackHandler",Jr.ADD_OWNER_WITH_THRESHOLD="addOwnerWithThreshold",Jr.REMOVE_OWNER="removeOwner",Jr.REMOVE_OWNER_WITH_THRESHOLD="removeOwnerWithThreshold",Jr.SWAP_OWNER="swapOwner",Jr.CHANGE_THRESHOLD="changeThreshold",Jr.CHANGE_MASTER_COPY="changeMasterCopy",Jr.ENABLE_MODULE="enableModule",Jr.DISABLE_MODULE="disableModule",Jr.EXEC_TRANSACTION_FROM_MODULE="execTransactionFromModule",Jr.APPROVE_HASH="approveHash",Jr.EXEC_TRANSACTION="execTransaction",function(t){var r=e&&e.__createBinding||(Object.create?function(e,t,r,s){void 0===s&&(s=r),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,s){void 0===s&&(s=r),e[s]=t[r]}),n=e&&e.__exportStar||function(e,t){for(var s in e)"default"===s||Object.prototype.hasOwnProperty.call(t,s)||r(t,e,s)},i=e&&e.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getSDKVersion=void 0;const o=i(s);t.default=o.default,n(s,t),n(Qr,t),n(Dr,t),n(yr,t);var a=Lr;Object.defineProperty(t,"getSDKVersion",{enumerable:!0,get:function(){return a.getSDKVersion}})}(r);var es=t(r),ts=Object.freeze(Object.assign(Object.create(null),r,{[Symbol.toStringTag]:"Module",default:es}));export{ts as i};
